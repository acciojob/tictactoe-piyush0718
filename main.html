<!DOCTYPE html>

<html>

<head>
	<link rel="stylesheet" href="styles.css">

	<style>
		#submit{
			width: 220px;
			height: 40px;
			font-size: 20px;
			margin-left: 18px;
			border-radius: 10px;
			background-color: white;
			cursor: pointer;
		}
		#submit:hover{
			background-color: grey;
		}
		.container{
			font-family: cursive;
		}
		.board{
			display: grid;
			grid-template-columns: repeat(3, 100px);
			grid-template-rows: repeat(3, 100px);
			margin-top: 20px;
		}
		.cell{
			border: 2px solid black;
			background-color: pink;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 40px;
			cursor: pointer;
		}
		.board, .messsage{
			display: none;
		}
	</style>
</head>
<body>
	<div class="container">
		<h1>Tic Tac Toe</h1>
		<label>Player 1</label>
		<input type="text" id="player1">
		<br><br>
		<label>Player 2</label>
		<input type="text" id="player2">
		<br><br>
		<input type="button" id="submit" value="Start Game">

		<div class="message"></div>

		<div class="board">
			<div class="cell" id="1"></div>
			<div class="cell" id="2"></div>
			<div class="cell" id="3"></div>
			<div class="cell" id="4"></div>
			<div class="cell" id="5"></div>
			<div class="cell" id="6"></div>
			<div class="cell" id="7"></div>
			<div class="cell" id="8"></div>
			<div class="cell" id="9"></div>
		</div>
	</div>

	<!-- your original script -->
	<script>
		let submitBtn = document.getElementById("submit");
		let player1input = document.getElementById("player1");
		let player2input = document.getElementById("player2");

		let board = document.querySelector(".board");
		let message = document.querySelector(".message");

		submitBtn.addEventListener("click", function(){
			let player1 = player1input.value;
			let player2 = player2input.value;

			if(player1 === "" || player2 === ""){
				alert("Please enter both players name");
				return;
			}

			player1input.style.display = "none";
			player2input.style.display = "none";
			submitBtn.style.display = "none";

			let labels = document.querySelectorAll("label");
			labels.forEach(label => label.style.display = "none");

			board.style.display = "grid";
			message.style.display = "block";

			message.innerText = `Player1, you're up`;
		});

	 
		// STEP 1: state variables
		let players = [];
		let currentMark = "x";
		let boardState = Array(9).fill("");
		let gameActive = false;

		// STEP 2: activate game after names entered
		submitBtn.addEventListener("click", function () {
			players = [player1input.value, player2input.value];
			gameActive = true;
		});

		// STEP 3: handle cell clicks
		const cells = document.querySelectorAll(".cell");
		cells.forEach((cell, index) => {
			cell.addEventListener("click", function () {
				if (!gameActive || boardState[index] !== "") return;

				boardState[index] = currentMark;
				cell.innerText = currentMark;

				if (checkWin()) {
					const winnerName = currentMark === "x" ? "Player1" : "Player2";
					message.innerText = `${winnerName} congratulations you won!`;
					gameActive = false;
					return;
				}

				currentMark = currentMark === "x" ? "o" : "x";
				const nextPlayerName = currentMark === "x" ? "Player1" : "Player2";
				message.innerText = `${nextPlayerName}, you're up`;
			});
		});

		// STEP 4: win checker
		function checkWin() {
			const WINS = [
				[0,1,2],[3,4,5],[6,7,8],
				[0,3,6],[1,4,7],[2,5,8],
				[0,4,8],[2,4,6]
			];
			return WINS.some(([a,b,c]) => {
				return boardState[a] && boardState[a] === boardState[b] && boardState[b] === boardState[c];
			});
		}
	</script>
		

</body>
</html>